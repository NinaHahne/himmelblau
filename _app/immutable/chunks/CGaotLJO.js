import{Z as M,_ as U,Y as b,T as $,S as y,m as o,$ as x,a0 as G,a1 as Z,X as z,a2 as H,n as B,a3 as V,a4 as X,P as C,a5 as j,a6 as D,k as c,a7 as J,a8 as K,a9 as Q,aa as W,ab as p,l as k,ac as aa}from"./BjaQUUAY.js";import{p as ra}from"./CeFsxyj-.js";function Y(a,r){return a===r||(a==null?void 0:a[y])===r}function sa(a={},r,f,l){return M(()=>{var s,i;return U(()=>{s=i,i=[],b(()=>{a!==f(...i)&&(r(a,...i),s&&Y(f(...s),a)&&r(null,...s))})}),()=>{$(()=>{i&&Y(f(...i),a)&&r(null,...i)})}}),a}let P=!1;function ea(a){var r=P;try{return P=!1,[a(),P]}finally{P=r}}function w(a){for(var r=B,f=B;r!==null&&!(r.f&(V|X));)r=r.parent;try{return C(r),a()}finally{C(f)}}function ta(a,r,f,l){var q;var s=(f&J)!==0,i=!z||(f&H)!==0,S=(f&K)!==0,F=(f&aa)!==0,A=!1,n;S?[n,A]=ea(()=>a[r]):n=a[r];var N=y in a||Z in a,v=S&&(((q=o(a,r))==null?void 0:q.set)??(N&&r in a&&(e=>a[r]=e)))||void 0,t=l,E=!0,I=!1,T=()=>(I=!0,E&&(E=!1,F?t=b(l):t=l),t);n===void 0&&l!==void 0&&(v&&i&&x(),n=T(),v&&v(n));var u;if(i)u=()=>{var e=a[r];return e===void 0?T():(E=!0,I=!1,e)};else{var g=w(()=>(s?D:j)(()=>a[r]));g.f|=G,u=()=>{var e=c(g);return e!==void 0&&(t=void 0),e===void 0?t:e}}if(!(f&Q))return u;if(v){var m=a.$$legacy;return function(e,_){return arguments.length>0?((!i||!_||m||A)&&v(_?u():e),e):u()}}var R=!1,L=!1,h=W(n),d=w(()=>D(()=>{var e=u(),_=c(h);return R?(R=!1,L=!0,_):(L=!1,h.v=e)}));return s||(d.equals=p),function(e,_){if(arguments.length>0){const O=_?c(d):i&&S?ra(e):e;return d.equals(O)||(R=!0,k(h,O),I&&t!==void 0&&(t=O),b(()=>c(d))),e}return c(d)}}export{sa as b,ta as p};
