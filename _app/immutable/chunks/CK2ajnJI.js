import{I as m,J as G,k as A,K as U,S as w,A as o,L as x,M as z,N as V,G as Z,P as $,B,O as H,R as J,Q as C,T as K,q as D,m as c,V as Q,W,X,Y as j,Z as p,z as k,_ as rr}from"./B2IViGam.js";import{p as er}from"./Z_vM61jj.js";function N(r,e){return r===e||(r==null?void 0:r[w])===e}function sr(r={},e,f,l){return m(()=>{var s,i;return G(()=>{s=i,i=[],A(()=>{r!==f(...i)&&(e(r,...i),s&&N(f(...s),r)&&e(null,...s))})}),()=>{U(()=>{i&&N(f(...i),r)&&e(null,...i)})}}),r}let P=!1;function ar(r){var e=P;try{return P=!1,[r(),P]}finally{P=e}}function Y(r){for(var e=B,f=B;e!==null&&!(e.f&(H|J));)e=e.parent;try{return C(e),r()}finally{C(f)}}function tr(r,e,f,l){var q;var s=(f&Q)!==0,i=!Z||(f&$)!==0,S=(f&W)!==0,y=(f&rr)!==0,T=!1,n;S?[n,T]=ar(()=>r[e]):n=r[e];var F=w in r||V in r,v=S&&(((q=o(r,e))==null?void 0:q.set)??(F&&e in r&&(a=>r[e]=a)))||void 0,t=l,E=!0,I=!1,b=()=>(I=!0,E&&(E=!1,y?t=A(l):t=l),t);n===void 0&&l!==void 0&&(v&&i&&x(),n=b(),v&&v(n));var u;if(i)u=()=>{var a=r[e];return a===void 0?b():(E=!0,I=!1,a)};else{var g=Y(()=>(s?D:K)(()=>r[e]));g.f|=z,u=()=>{var a=c(g);return a!==void 0&&(t=void 0),a===void 0?t:a}}if(!(f&X))return u;if(v){var M=r.$$legacy;return function(a,_){return arguments.length>0?((!i||!_||M||T)&&v(_?u():a),a):u()}}var R=!1,L=!1,O=j(n),d=Y(()=>D(()=>{var a=u(),_=c(O);return R?(R=!1,L=!0,_):(L=!1,O.v=a)}));return s||(d.equals=p),function(a,_){if(arguments.length>0){const h=_?c(d):i&&S?er(a):a;return d.equals(h)||(R=!0,k(O,h),I&&t!==void 0&&(t=h),A(()=>c(d))),a}return c(d)}}export{sr as b,tr as p};
