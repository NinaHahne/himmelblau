import{$ as M,a0 as U,_ as b,W as $,S as F,m as o,a1 as x,a2 as G,a3 as Z,Z as z,a4 as H,n as B,a5 as V,a6 as W,R as C,a7 as j,a8 as D,k as c,a9 as J,aa as K,ab as Q,ac as X,ad as p,l as k,ae as aa}from"./BBd4NHqh.js";import{p as ra}from"./BGbghFF-.js";function w(a,r){return a===r||(a==null?void 0:a[F])===r}function sa(a={},r,f,l){return M(()=>{var s,i;return U(()=>{s=i,i=[],b(()=>{a!==f(...i)&&(r(a,...i),s&&w(f(...s),a)&&r(null,...s))})}),()=>{$(()=>{i&&w(f(...i),a)&&r(null,...i)})}}),a}let P=!1;function ea(a){var r=P;try{return P=!1,[a(),P]}finally{P=r}}function y(a){for(var r=B,f=B;r!==null&&!(r.f&(V|W));)r=r.parent;try{return C(r),a()}finally{C(f)}}function ta(a,r,f,l){var q;var s=(f&J)!==0,i=!z||(f&H)!==0,S=(f&K)!==0,N=(f&aa)!==0,A=!1,n;S?[n,A]=ea(()=>a[r]):n=a[r];var Y=F in a||Z in a,v=S&&(((q=o(a,r))==null?void 0:q.set)??(Y&&r in a&&(e=>a[r]=e)))||void 0,t=l,E=!0,R=!1,g=()=>(R=!0,E&&(E=!1,N?t=b(l):t=l),t);n===void 0&&l!==void 0&&(v&&i&&x(),n=g(),v&&v(n));var u;if(i)u=()=>{var e=a[r];return e===void 0?g():(E=!0,R=!1,e)};else{var T=y(()=>(s?D:j)(()=>a[r]));T.f|=G,u=()=>{var e=c(T);return e!==void 0&&(t=void 0),e===void 0?t:e}}if(!(f&Q))return u;if(v){var m=a.$$legacy;return function(e,_){return arguments.length>0?((!i||!_||m||A)&&v(_?u():e),e):u()}}var I=!1,L=!1,h=X(n),d=y(()=>D(()=>{var e=u(),_=c(h);return I?(I=!1,L=!0,_):(L=!1,h.v=e)}));return s||(d.equals=p),function(e,_){if(arguments.length>0){const O=_?c(d):i&&S?ra(e):e;return d.equals(O)||(I=!0,k(h,O),R&&t!==void 0&&(t=O),b(()=>c(d))),e}return c(d)}}export{sa as b,ta as p};
